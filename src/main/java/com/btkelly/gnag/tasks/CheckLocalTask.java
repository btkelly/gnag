/**
 * Copyright 2015 Bryan Kelly
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License.
 *
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations
 * under the License.
 */
package com.btkelly.gnag.tasks;

import com.btkelly.gnag.models.ViolationComment;
import com.btkelly.gnag.utils.Logger;
import com.github.rjeschke.txtmark.Processor;
import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.util.HashMap;
import java.util.Map;
import org.apache.commons.io.IOUtils;
import org.gradle.api.GradleException;
import org.gradle.api.Project;
import org.gradle.api.Task;
import org.gradle.api.tasks.TaskAction;

/**
 * Created by bobbake4 on 12/1/15.
 */
public class CheckLocalTask extends BaseCheckTask {

    private static final String TASK_NAME = "checkLocal";
    private static final String REPORT_FILE_NAME = "gnag.html";

    public static void addTask(Project project) {
        Map<String, Object> taskOptions = new HashMap<>();

        taskOptions.put(Task.TASK_NAME, TASK_NAME);
        taskOptions.put(Task.TASK_TYPE, CheckLocalTask.class);
        taskOptions.put(Task.TASK_GROUP, "Verification");
        taskOptions.put(Task.TASK_DEPENDS_ON, "check");
        taskOptions.put(Task.TASK_DESCRIPTION, "Runs Gnag locally and generates a report without attempting to publish to Github");

        project.task(taskOptions, TASK_NAME);
    }

    @TaskAction
    public void taskAction() {
        ViolationComment violationComment = buildViolationComment();

        File gnagReportDirectory = new File(getProject().getProjectDir(), "/build/outputs/gnag/");
        File gnagReportFile = new File(gnagReportDirectory, REPORT_FILE_NAME);

        try {
            gnagReportDirectory.mkdirs();
            FileOutputStream reportFileOutputStream = new FileOutputStream(gnagReportFile);

            final String htmlViolationReportPrefix = "<!DOCTYPE html>\n<html>\n"
                + getStandardGitHubStyles()
                + getGitHubStyleCustomizations()
                + "<article class=\"markdown-body\">";

            final String htmlViolationReportContent
                = Processor.process(violationComment.getCommentMessage());

            final String htmlViolationReportSuffix = "</article></html>";

            final String htmlViolationReport
                = htmlViolationReportPrefix + htmlViolationReportContent + htmlViolationReportSuffix;

            IOUtils.write(htmlViolationReport, reportFileOutputStream);

            reportFileOutputStream.close();
        } catch (IOException ignored) {
            Logger.logError("Error saving Gnag report");
        }

        if (failBuildOnError() && violationComment.isFailBuild()) {
            String errorMessage = "Gnag check found failures, report at " + gnagReportFile.toURI();
            Logger.logError(errorMessage);
            throw new GradleException(errorMessage);
        } else if (violationComment.isFailBuild()) {
            Logger.logError("Gnag check failed but configuration allows build success");
        }
    }

    private String getGitHubStyleCustomizations() {
        return "<style>\n"
            + "    .markdown-body {\n"
            + "        box-sizing: border-box;\n"
            + "        min-width: 200px;\n"
            + "        max-width: 980px;\n"
            + "        margin: 0 auto;\n"
            + "        padding: 45px;\n"
            + "    }\n"
            + "</style>\n";
    }

    private String getStandardGitHubStyles() {
        return "<!--"
            + "  Originally from https://github.com/sindresorhus/github-markdown-css/blob/033e86abcb007c3f103b33324945f5ce845617cf/github-markdown.css\n"
            + "  \"The minimal amount of CSS to replicate the GitHub Markdown style\"\n"
            + "-->\n"
            + "\n"
            + "<style>"
            + "@font-face {\n"
            + "  font-family: octicons-link;\n"
            + "  src: url(data:font/woff;charset=utf-8;base64,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) format('woff');\n"
            + "}\n"
            + "\n"
            + ".markdown-body {\n"
            + "  -webkit-text-size-adjust: 100%;\n"
            + "  text-size-adjust: 100%;\n"
            + "  color: #333;\n"
            + "  font-family: \"Helvetica Neue\", Helvetica, \"Segoe UI\", Arial, freesans, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n"
            + "  font-size: 16px;\n"
            + "  line-height: 1.6;\n"
            + "  word-wrap: break-word;\n"
            + "}\n"
            + "\n"
            + ".markdown-body a {\n"
            + "  background-color: transparent;\n"
            + "}\n"
            + "\n"
            + ".markdown-body a:active,\n"
            + ".markdown-body a:hover {\n"
            + "  outline: 0;\n"
            + "}\n"
            + "\n"
            + ".markdown-body strong {\n"
            + "  font-weight: bold;\n"
            + "}\n"
            + "\n"
            + ".markdown-body h1 {\n"
            + "  font-size: 2em;\n"
            + "  margin: 0.67em 0;\n"
            + "}\n"
            + "\n"
            + ".markdown-body img {\n"
            + "  border: 0;\n"
            + "}\n"
            + "\n"
            + ".markdown-body hr {\n"
            + "  box-sizing: content-box;\n"
            + "  height: 0;\n"
            + "}\n"
            + "\n"
            + ".markdown-body pre {\n"
            + "  overflow: auto;\n"
            + "}\n"
            + "\n"
            + ".markdown-body code,\n"
            + ".markdown-body kbd,\n"
            + ".markdown-body pre {\n"
            + "  font-family: monospace, monospace;\n"
            + "  font-size: 1em;\n"
            + "}\n"
            + "\n"
            + ".markdown-body input {\n"
            + "  color: inherit;\n"
            + "  font: inherit;\n"
            + "  margin: 0;\n"
            + "}\n"
            + "\n"
            + ".markdown-body html input[disabled] {\n"
            + "  cursor: default;\n"
            + "}\n"
            + "\n"
            + ".markdown-body input {\n"
            + "  line-height: normal;\n"
            + "}\n"
            + "\n"
            + ".markdown-body input[type=\"checkbox\"] {\n"
            + "  box-sizing: border-box;\n"
            + "  padding: 0;\n"
            + "}\n"
            + "\n"
            + ".markdown-body table {\n"
            + "  border-collapse: collapse;\n"
            + "  border-spacing: 0;\n"
            + "}\n"
            + "\n"
            + ".markdown-body td,\n"
            + ".markdown-body th {\n"
            + "  padding: 0;\n"
            + "}\n"
            + "\n"
            + ".markdown-body * {\n"
            + "  box-sizing: border-box;\n"
            + "}\n"
            + "\n"
            + ".markdown-body input {\n"
            + "  font: 13px / 1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n"
            + "}\n"
            + "\n"
            + ".markdown-body a {\n"
            + "  color: #4078c0;\n"
            + "  text-decoration: none;\n"
            + "}\n"
            + "\n"
            + ".markdown-body a:hover,\n"
            + ".markdown-body a:active {\n"
            + "  text-decoration: underline;\n"
            + "}\n"
            + "\n"
            + ".markdown-body hr {\n"
            + "  height: 0;\n"
            + "  margin: 15px 0;\n"
            + "  overflow: hidden;\n"
            + "  background: transparent;\n"
            + "  border: 0;\n"
            + "  border-bottom: 1px solid #ddd;\n"
            + "}\n"
            + "\n"
            + ".markdown-body hr:before {\n"
            + "  display: table;\n"
            + "  content: \"\";\n"
            + "}\n"
            + "\n"
            + ".markdown-body hr:after {\n"
            + "  display: table;\n"
            + "  clear: both;\n"
            + "  content: \"\";\n"
            + "}\n"
            + "\n"
            + ".markdown-body h1,\n"
            + ".markdown-body h2,\n"
            + ".markdown-body h3,\n"
            + ".markdown-body h4,\n"
            + ".markdown-body h5,\n"
            + ".markdown-body h6 {\n"
            + "  margin-top: 15px;\n"
            + "  margin-bottom: 15px;\n"
            + "  line-height: 1.1;\n"
            + "}\n"
            + "\n"
            + ".markdown-body h1 {\n"
            + "  font-size: 30px;\n"
            + "}\n"
            + "\n"
            + ".markdown-body h2 {\n"
            + "  font-size: 21px;\n"
            + "}\n"
            + "\n"
            + ".markdown-body h3 {\n"
            + "  font-size: 16px;\n"
            + "}\n"
            + "\n"
            + ".markdown-body h4 {\n"
            + "  font-size: 14px;\n"
            + "}\n"
            + "\n"
            + ".markdown-body h5 {\n"
            + "  font-size: 12px;\n"
            + "}\n"
            + "\n"
            + ".markdown-body h6 {\n"
            + "  font-size: 11px;\n"
            + "}\n"
            + "\n"
            + ".markdown-body blockquote {\n"
            + "  margin: 0;\n"
            + "}\n"
            + "\n"
            + ".markdown-body ul,\n"
            + ".markdown-body ol {\n"
            + "  padding: 0;\n"
            + "  margin-top: 0;\n"
            + "  margin-bottom: 0;\n"
            + "}\n"
            + "\n"
            + ".markdown-body ol ol,\n"
            + ".markdown-body ul ol {\n"
            + "  list-style-type: lower-roman;\n"
            + "}\n"
            + "\n"
            + ".markdown-body ul ul ol,\n"
            + ".markdown-body ul ol ol,\n"
            + ".markdown-body ol ul ol,\n"
            + ".markdown-body ol ol ol {\n"
            + "  list-style-type: lower-alpha;\n"
            + "}\n"
            + "\n"
            + ".markdown-body dd {\n"
            + "  margin-left: 0;\n"
            + "}\n"
            + "\n"
            + ".markdown-body code {\n"
            + "  font-family: Consolas, \"Liberation Mono\", Menlo, Courier, monospace;\n"
            + "  font-size: 12px;\n"
            + "}\n"
            + "\n"
            + ".markdown-body pre {\n"
            + "  margin-top: 0;\n"
            + "  margin-bottom: 0;\n"
            + "  font: 12px Consolas, \"Liberation Mono\", Menlo, Courier, monospace;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .select::-ms-expand {\n"
            + "  opacity: 0;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .octicon {\n"
            + "  font: normal normal normal 16px/1 octicons-link;\n"
            + "  display: inline-block;\n"
            + "  text-decoration: none;\n"
            + "  text-rendering: auto;\n"
            + "  -webkit-font-smoothing: antialiased;\n"
            + "  -moz-osx-font-smoothing: grayscale;\n"
            + "  -webkit-user-select: none;\n"
            + "  -moz-user-select: none;\n"
            + "  -ms-user-select: none;\n"
            + "  user-select: none;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .octicon-link:before {\n"
            + "  content: '\\f05c';\n"
            + "}\n"
            + "\n"
            + ".markdown-body:before {\n"
            + "  display: table;\n"
            + "  content: \"\";\n"
            + "}\n"
            + "\n"
            + ".markdown-body:after {\n"
            + "  display: table;\n"
            + "  clear: both;\n"
            + "  content: \"\";\n"
            + "}\n"
            + "\n"
            + ".markdown-body>*:first-child {\n"
            + "  margin-top: 0 !important;\n"
            + "}\n"
            + "\n"
            + ".markdown-body>*:last-child {\n"
            + "  margin-bottom: 0 !important;\n"
            + "}\n"
            + "\n"
            + ".markdown-body a:not([href]) {\n"
            + "  color: inherit;\n"
            + "  text-decoration: none;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .anchor {\n"
            + "  display: inline-block;\n"
            + "  padding-right: 2px;\n"
            + "  margin-left: -18px;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .anchor:focus {\n"
            + "  outline: none;\n"
            + "}\n"
            + "\n"
            + ".markdown-body h1,\n"
            + ".markdown-body h2,\n"
            + ".markdown-body h3,\n"
            + ".markdown-body h4,\n"
            + ".markdown-body h5,\n"
            + ".markdown-body h6 {\n"
            + "  margin-top: 1em;\n"
            + "  margin-bottom: 16px;\n"
            + "  font-weight: bold;\n"
            + "  line-height: 1.4;\n"
            + "}\n"
            + "\n"
            + ".markdown-body h1 .octicon-link,\n"
            + ".markdown-body h2 .octicon-link,\n"
            + ".markdown-body h3 .octicon-link,\n"
            + ".markdown-body h4 .octicon-link,\n"
            + ".markdown-body h5 .octicon-link,\n"
            + ".markdown-body h6 .octicon-link {\n"
            + "  color: #000;\n"
            + "  vertical-align: middle;\n"
            + "  visibility: hidden;\n"
            + "}\n"
            + "\n"
            + ".markdown-body h1:hover .anchor,\n"
            + ".markdown-body h2:hover .anchor,\n"
            + ".markdown-body h3:hover .anchor,\n"
            + ".markdown-body h4:hover .anchor,\n"
            + ".markdown-body h5:hover .anchor,\n"
            + ".markdown-body h6:hover .anchor {\n"
            + "  text-decoration: none;\n"
            + "}\n"
            + "\n"
            + ".markdown-body h1:hover .anchor .octicon-link,\n"
            + ".markdown-body h2:hover .anchor .octicon-link,\n"
            + ".markdown-body h3:hover .anchor .octicon-link,\n"
            + ".markdown-body h4:hover .anchor .octicon-link,\n"
            + ".markdown-body h5:hover .anchor .octicon-link,\n"
            + ".markdown-body h6:hover .anchor .octicon-link {\n"
            + "  visibility: visible;\n"
            + "}\n"
            + "\n"
            + ".markdown-body h1 {\n"
            + "  padding-bottom: 0.3em;\n"
            + "  font-size: 2.25em;\n"
            + "  line-height: 1.2;\n"
            + "  border-bottom: 1px solid #eee;\n"
            + "}\n"
            + "\n"
            + ".markdown-body h1 .anchor {\n"
            + "  line-height: 1;\n"
            + "}\n"
            + "\n"
            + ".markdown-body h2 {\n"
            + "  padding-bottom: 0.3em;\n"
            + "  font-size: 1.75em;\n"
            + "  line-height: 1.225;\n"
            + "  border-bottom: 1px solid #eee;\n"
            + "}\n"
            + "\n"
            + ".markdown-body h2 .anchor {\n"
            + "  line-height: 1;\n"
            + "}\n"
            + "\n"
            + ".markdown-body h3 {\n"
            + "  font-size: 1.5em;\n"
            + "  line-height: 1.43;\n"
            + "}\n"
            + "\n"
            + ".markdown-body h3 .anchor {\n"
            + "  line-height: 1.2;\n"
            + "}\n"
            + "\n"
            + ".markdown-body h4 {\n"
            + "  font-size: 1.25em;\n"
            + "}\n"
            + "\n"
            + ".markdown-body h4 .anchor {\n"
            + "  line-height: 1.2;\n"
            + "}\n"
            + "\n"
            + ".markdown-body h5 {\n"
            + "  font-size: 1em;\n"
            + "}\n"
            + "\n"
            + ".markdown-body h5 .anchor {\n"
            + "  line-height: 1.1;\n"
            + "}\n"
            + "\n"
            + ".markdown-body h6 {\n"
            + "  font-size: 1em;\n"
            + "  color: #777;\n"
            + "}\n"
            + "\n"
            + ".markdown-body h6 .anchor {\n"
            + "  line-height: 1.1;\n"
            + "}\n"
            + "\n"
            + ".markdown-body p,\n"
            + ".markdown-body blockquote,\n"
            + ".markdown-body ul,\n"
            + ".markdown-body ol,\n"
            + ".markdown-body dl,\n"
            + ".markdown-body table,\n"
            + ".markdown-body pre {\n"
            + "  margin-top: 0;\n"
            + "  margin-bottom: 16px;\n"
            + "}\n"
            + "\n"
            + ".markdown-body hr {\n"
            + "  height: 4px;\n"
            + "  padding: 0;\n"
            + "  margin: 16px 0;\n"
            + "  background-color: #e7e7e7;\n"
            + "  border: 0 none;\n"
            + "}\n"
            + "\n"
            + ".markdown-body ul,\n"
            + ".markdown-body ol {\n"
            + "  padding-left: 2em;\n"
            + "}\n"
            + "\n"
            + ".markdown-body ul ul,\n"
            + ".markdown-body ul ol,\n"
            + ".markdown-body ol ol,\n"
            + ".markdown-body ol ul {\n"
            + "  margin-top: 0;\n"
            + "  margin-bottom: 0;\n"
            + "}\n"
            + "\n"
            + ".markdown-body li>p {\n"
            + "  margin-top: 16px;\n"
            + "}\n"
            + "\n"
            + ".markdown-body dl {\n"
            + "  padding: 0;\n"
            + "}\n"
            + "\n"
            + ".markdown-body dl dt {\n"
            + "  padding: 0;\n"
            + "  margin-top: 16px;\n"
            + "  font-size: 1em;\n"
            + "  font-style: italic;\n"
            + "  font-weight: bold;\n"
            + "}\n"
            + "\n"
            + ".markdown-body dl dd {\n"
            + "  padding: 0 16px;\n"
            + "  margin-bottom: 16px;\n"
            + "}\n"
            + "\n"
            + ".markdown-body blockquote {\n"
            + "  padding: 0 15px;\n"
            + "  color: #777;\n"
            + "  border-left: 4px solid #ddd;\n"
            + "}\n"
            + "\n"
            + ".markdown-body blockquote>:first-child {\n"
            + "  margin-top: 0;\n"
            + "}\n"
            + "\n"
            + ".markdown-body blockquote>:last-child {\n"
            + "  margin-bottom: 0;\n"
            + "}\n"
            + "\n"
            + ".markdown-body table {\n"
            + "  display: block;\n"
            + "  width: 100%;\n"
            + "  overflow: auto;\n"
            + "  word-break: normal;\n"
            + "  word-break: keep-all;\n"
            + "}\n"
            + "\n"
            + ".markdown-body table th {\n"
            + "  font-weight: bold;\n"
            + "}\n"
            + "\n"
            + ".markdown-body table th,\n"
            + ".markdown-body table td {\n"
            + "  padding: 6px 13px;\n"
            + "  border: 1px solid #ddd;\n"
            + "}\n"
            + "\n"
            + ".markdown-body table tr {\n"
            + "  background-color: #fff;\n"
            + "  border-top: 1px solid #ccc;\n"
            + "}\n"
            + "\n"
            + ".markdown-body table tr:nth-child(2n) {\n"
            + "  background-color: #f8f8f8;\n"
            + "}\n"
            + "\n"
            + ".markdown-body img {\n"
            + "  max-width: 100%;\n"
            + "  box-sizing: content-box;\n"
            + "  background-color: #fff;\n"
            + "}\n"
            + "\n"
            + ".markdown-body code {\n"
            + "  padding: 0;\n"
            + "  padding-top: 0.2em;\n"
            + "  padding-bottom: 0.2em;\n"
            + "  margin: 0;\n"
            + "  font-size: 85%;\n"
            + "  background-color: rgba(0,0,0,0.04);\n"
            + "  border-radius: 3px;\n"
            + "}\n"
            + "\n"
            + ".markdown-body code:before,\n"
            + ".markdown-body code:after {\n"
            + "  letter-spacing: -0.2em;\n"
            + "  content: \"\\00a0\";\n"
            + "}\n"
            + "\n"
            + ".markdown-body pre>code {\n"
            + "  padding: 0;\n"
            + "  margin: 0;\n"
            + "  font-size: 100%;\n"
            + "  word-break: normal;\n"
            + "  white-space: pre;\n"
            + "  background: transparent;\n"
            + "  border: 0;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .highlight {\n"
            + "  margin-bottom: 16px;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .highlight pre,\n"
            + ".markdown-body pre {\n"
            + "  padding: 16px;\n"
            + "  overflow: auto;\n"
            + "  font-size: 85%;\n"
            + "  line-height: 1.45;\n"
            + "  background-color: #f7f7f7;\n"
            + "  border-radius: 3px;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .highlight pre {\n"
            + "  margin-bottom: 0;\n"
            + "  word-break: normal;\n"
            + "}\n"
            + "\n"
            + ".markdown-body pre {\n"
            + "  word-wrap: normal;\n"
            + "}\n"
            + "\n"
            + ".markdown-body pre code {\n"
            + "  display: inline;\n"
            + "  max-width: initial;\n"
            + "  padding: 0;\n"
            + "  margin: 0;\n"
            + "  overflow: initial;\n"
            + "  line-height: inherit;\n"
            + "  word-wrap: normal;\n"
            + "  background-color: transparent;\n"
            + "  border: 0;\n"
            + "}\n"
            + "\n"
            + ".markdown-body pre code:before,\n"
            + ".markdown-body pre code:after {\n"
            + "  content: normal;\n"
            + "}\n"
            + "\n"
            + ".markdown-body kbd {\n"
            + "  display: inline-block;\n"
            + "  padding: 3px 5px;\n"
            + "  font-size: 11px;\n"
            + "  line-height: 10px;\n"
            + "  color: #555;\n"
            + "  vertical-align: middle;\n"
            + "  background-color: #fcfcfc;\n"
            + "  border: solid 1px #ccc;\n"
            + "  border-bottom-color: #bbb;\n"
            + "  border-radius: 3px;\n"
            + "  box-shadow: inset 0 -1px 0 #bbb;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .pl-c {\n"
            + "  color: #969896;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .pl-c1,\n"
            + ".markdown-body .pl-s .pl-v {\n"
            + "  color: #0086b3;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .pl-e,\n"
            + ".markdown-body .pl-en {\n"
            + "  color: #795da3;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .pl-s .pl-s1,\n"
            + ".markdown-body .pl-smi {\n"
            + "  color: #333;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .pl-ent {\n"
            + "  color: #63a35c;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .pl-k {\n"
            + "  color: #a71d5d;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .pl-pds,\n"
            + ".markdown-body .pl-s,\n"
            + ".markdown-body .pl-s .pl-pse .pl-s1,\n"
            + ".markdown-body .pl-sr,\n"
            + ".markdown-body .pl-sr .pl-cce,\n"
            + ".markdown-body .pl-sr .pl-sra,\n"
            + ".markdown-body .pl-sr .pl-sre {\n"
            + "  color: #183691;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .pl-v {\n"
            + "  color: #ed6a43;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .pl-id {\n"
            + "  color: #b52a1d;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .pl-ii {\n"
            + "  background-color: #b52a1d;\n"
            + "  color: #f8f8f8;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .pl-sr .pl-cce {\n"
            + "  color: #63a35c;\n"
            + "  font-weight: bold;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .pl-ml {\n"
            + "  color: #693a17;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .pl-mh,\n"
            + ".markdown-body .pl-mh .pl-en,\n"
            + ".markdown-body .pl-ms {\n"
            + "  color: #1d3e81;\n"
            + "  font-weight: bold;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .pl-mq {\n"
            + "  color: #008080;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .pl-mi {\n"
            + "  color: #333;\n"
            + "  font-style: italic;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .pl-mb {\n"
            + "  color: #333;\n"
            + "  font-weight: bold;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .pl-md {\n"
            + "  background-color: #ffecec;\n"
            + "  color: #bd2c00;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .pl-mi1 {\n"
            + "  background-color: #eaffea;\n"
            + "  color: #55a532;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .pl-mdr {\n"
            + "  color: #795da3;\n"
            + "  font-weight: bold;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .pl-mo {\n"
            + "  color: #1d3e81;\n"
            + "}\n"
            + "\n"
            + ".markdown-body kbd {\n"
            + "  display: inline-block;\n"
            + "  padding: 3px 5px;\n"
            + "  font: 11px Consolas, \"Liberation Mono\", Menlo, Courier, monospace;\n"
            + "  line-height: 10px;\n"
            + "  color: #555;\n"
            + "  vertical-align: middle;\n"
            + "  background-color: #fcfcfc;\n"
            + "  border: solid 1px #ccc;\n"
            + "  border-bottom-color: #bbb;\n"
            + "  border-radius: 3px;\n"
            + "  box-shadow: inset 0 -1px 0 #bbb;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .task-list-item {\n"
            + "  list-style-type: none;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .task-list-item+.task-list-item {\n"
            + "  margin-top: 3px;\n"
            + "}\n"
            + "\n"
            + ".markdown-body .task-list-item input {\n"
            + "  margin: 0 0.35em 0.25em -1.6em;\n"
            + "  vertical-align: middle;\n"
            + "}\n"
            + "\n"
            + ".markdown-body :checked+.radio-label {\n"
            + "  z-index: 1;\n"
            + "  position: relative;\n"
            + "  border-color: #4078c0;\n"
            + "}"
            + "</style>";
    }

}
